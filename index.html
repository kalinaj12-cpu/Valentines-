<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Loren üíñ</title>

  <style>
    :root{
      --sky1:#060812;
      --sky2:#0b1230;
      --glow:#ffd6f6;
      --card:#0f1636cc;
      --text:#f6f7ff;
      --muted:#cfd3ff;
      --yes:#ff6fa5;
      --yes2:#ff9ec7;
      --no:#e8e8ff;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 900px at 30% 10%, rgba(255,214,246,.20), transparent 60%),
        radial-gradient(900px 700px at 70% 80%, rgba(157,205,255,.18), transparent 60%),
        linear-gradient(135deg, var(--sky1), var(--sky2));
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:18px;
    }

    .stars, .stars2{
      position:fixed;
      inset:-20%;
      background-image:
        radial-gradient(2px 2px at 20px 30px, rgba(255,255,255,.65), transparent 60%),
        radial-gradient(1px 1px at 120px 80px, rgba(255,255,255,.55), transparent 60%),
        radial-gradient(1px 1px at 60px 140px, rgba(255,255,255,.45), transparent 60%),
        radial-gradient(2px 2px at 240px 160px, rgba(255,255,255,.55), transparent 60%),
        radial-gradient(1px 1px at 320px 40px, rgba(255,255,255,.40), transparent 60%),
        radial-gradient(2px 2px at 420px 120px, rgba(255,255,255,.50), transparent 60%);
      background-size: 520px 260px;
      opacity:.55;
      filter: blur(.2px);
      animation: drift 38s linear infinite;
      pointer-events:none;
      z-index:0;
    }
    .stars2{
      opacity:.35;
      background-size: 760px 360px;
      animation-duration: 60s;
      transform: rotate(8deg);
    }
    @keyframes drift{
      from{ transform: translate3d(0,0,0); }
      to{ transform: translate3d(-240px, 160px, 0); }
    }

    .card{
      width:min(580px, 96vw);
      background:var(--card);
      backdrop-filter: blur(10px);
      border:1px solid rgba(255,255,255,.12);
      border-radius:26px;
      box-shadow: 0 24px 70px rgba(0,0,0,.35);
      padding:26px 22px;
      position:relative;
      z-index:1;
    }

    h1{
      margin:0 0 8px;
      font-size: clamp(28px, 4vw, 40px);
      letter-spacing:-.6px;
      text-align:center;
    }

    .subtitle{
      text-align:center;
      margin:0 0 16px;
      font-size: 15px;
      color:var(--muted);
      opacity:.95;
    }

    .photo{
      width:118px;
      height:118px;
      margin: 10px auto 14px;
      border-radius:999px;
      background: radial-gradient(circle at 30% 25%, rgba(255,214,246,.9), rgba(255,111,165,.25));
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:52px;
      box-shadow: 0 0 38px rgba(255,214,246,.25);
      border: 1px solid rgba(255,255,255,.18);
      user-select:none;
    }

    .moon-container{
      text-align:center;
      margin: 8px 0 18px;
    }
    .moon-img{
      width:190px;
      max-width:72%;
      border-radius:50%;
      box-shadow: 0 0 55px rgba(255,214,246,.22);
      transition: transform .5s ease, box-shadow .5s ease, filter .5s ease;
      filter: contrast(1.05) brightness(1.02);
    }
    .moon-caption{
      font-size:13px;
      color:var(--muted);
      opacity:.92;
      margin-top:10px;
      line-height:1.35;
    }
    .moon-glow{
      box-shadow: 0 0 95px rgba(255,214,246,.65);
      transform: scale(1.05);
      filter: contrast(1.08) brightness(1.08);
    }

    .couple-container{
      text-align:center;
      margin: 18px 0 18px;
    }
    .couple-img{
      width: 240px;
      max-width: 85%;
      border-radius: 18px;
      box-shadow: 0 0 40px rgba(255,214,246,.25);
      border: 1px solid rgba(255,255,255,.18);
      transition: transform .4s ease, box-shadow .4s ease, filter .4s ease;
      filter: contrast(1.02) brightness(1.02);
    }
    .couple-img:hover{
      transform: scale(1.03);
      box-shadow: 0 0 65px rgba(255,214,246,.5);
    }

    .msg{
      text-align:center;
      line-height:1.42;
      font-size: 18px;
      margin: 0 10px 18px;
    }

    .buttons{
      display:flex;
      gap:12px;
      justify-content:center;
      align-items:center;
      margin-top:14px;
      position:relative;
    }

    button{
      border:0;
      padding: 12px 16px;
      border-radius: 14px;
      font-weight:800;
      font-size:16px;
      cursor:pointer;
      transition: transform .15s ease, box-shadow .15s ease, opacity .15s ease;
      box-shadow: 0 14px 26px rgba(0,0,0,.24);
      touch-action: manipulation;
    }

    #yesBtn{
      background: linear-gradient(135deg, #ff6fa5, #ff9ec7);
      color:white;
    }
    #yesBtn:hover{ transform: translateY(-1px); }
    #yesBtn:active{ transform: scale(.98); }

    #noBtn{
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.14);
      color: #e8e8ff;
      backdrop-filter: blur(8px);
      position:relative;
    }

    .hint{
      text-align:center;
      margin-top:12px;
      font-size:13px;
      color:var(--muted);
      opacity:.9;
    }
    .footer{
      margin-top:18px;
      text-align:center;
      font-size:12px;
      color:var(--muted);
      opacity:.7;
    }

    .stamp{
      position:absolute;
      top:14px;
      right:14px;
      padding:8px 10px;
      border-radius:999px;
      font-weight:900;
      font-size:12px;
      letter-spacing:.8px;
      color:#fff;
      background: linear-gradient(135deg, rgba(255,111,165,.95), rgba(255,214,246,.65));
      border: 1px solid rgba(255,255,255,.18);
      box-shadow: 0 0 0 rgba(255,214,246,0);
      transform: rotate(6deg) scale(.85);
      opacity:0;
      pointer-events:none;
    }
    .stamp.show{
      opacity:1;
      animation: stampPop .65s ease-out forwards, stampGlow 1.6s ease-in-out infinite;
    }
    @keyframes stampPop{
      from{ transform: rotate(6deg) scale(.55); filter: blur(2px); }
      to{ transform: rotate(6deg) scale(.95); filter: blur(0); }
    }
    @keyframes stampGlow{
      0%,100%{ box-shadow: 0 0 16px rgba(255,214,246,.25); }
      50%{ box-shadow: 0 0 34px rgba(255,214,246,.6); }
    }

    .overlay{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.35);
      display:none;
      align-items:center;
      justify-content:center;
      padding:18px;
      z-index:2;
    }
    .modal{
      width:min(520px, 94vw);
      background: rgba(15,22,54,.95);
      border:1px solid rgba(255,255,255,.14);
      border-radius:22px;
      padding:22px 18px;
      box-shadow: 0 22px 70px rgba(0,0,0,.45);
      text-align:center;
      position:relative;
      overflow:hidden;
    }
    .modal h2{
      margin:0 0 10px;
      font-size:26px;
    }
    .modal p{
      margin: 0 0 16px;
      font-size:16px;
      line-height:1.38;
      color:var(--muted);
    }
    .modal .big{
      font-size:46px;
      margin: 4px 0 10px;
    }
    .close{
      background: rgba(255,255,255,.12);
      color:#fff;
      padding:10px 14px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.16);
    }

    .heart{
      position:fixed;
      left:0;
      top:0;
      font-size:18px;
      opacity:.9;
      will-change: transform, opacity;
      pointer-events:none;
      animation: floatUp linear forwards;
      filter: drop-shadow(0 8px 16px rgba(0,0,0,.35));
      z-index:1;
    }
    @keyframes floatUp{
      from{ transform: translate(var(--x), 110vh) scale(.9) rotate(0deg); opacity:0; }
      10%{opacity:1;}
      to{ transform: translate(var(--x2), -18vh) scale(1.25) rotate(18deg); opacity:0; }
    }

    .spark{
      position:absolute;
      width:8px;height:8px;
      border-radius:3px;
      opacity:.9;
      animation: pop .9s ease-out forwards;
    }
    @keyframes pop{
      from{ transform: translate(0,0) scale(1); opacity:1; }
      to{ transform: translate(var(--dx), var(--dy)) scale(.4); opacity:0; }
    }
  </style>
</head>

<body>
  <div class="stars"></div>
  <div class="stars2"></div>

  <main class="card" id="card">
    <div class="stamp" id="stamp">NOV 19, 2023 ‚ú®</div>

    <div class="photo" aria-hidden="true">üíò</div>

    <h1 id="title">Loren‚Ä¶</h1>
    <p class="subtitle" id="subtitle">I have a little question for you ü•∫</p>

    <div class="moon-container">
      <img src="moon.jpg" alt="Moon on November 19, 2023" class="moon-img">
      <p class="moon-caption">
        This was the moon on <b>November 19, 2023</b> ‚Äî <br/>
        the night our love officially became real. üåô‚ú®
      </p>
    </div>

    <div class="couple-container">
      <img src="us.jpg" alt="Gio and Loren" class="couple-img">
    </div>

    <p class="msg" id="message"></p>

    <div class="buttons" id="btnArea">
      <button id="yesBtn">Yes üíñ</button>
      <button id="noBtn">No üò¢</button>
    </div>

    <div class="hint">Tip: if you try to press ‚ÄúNo‚Äù‚Ä¶ it might get shy üëÄ</div>
    <div class="footer">Made with love ‚Äî Gio ü´∂</div>
  </main>

  <section class="overlay" id="overlay" role="dialog" aria-modal="true">
    <div class="modal" id="modal">
      <div class="big">ü•πüíç</div>
      <h2 id="modalTitle">SHE SAID YES!</h2>
      <p id="modalText"></p>
      <button class="close" id="closeBtn">Close</button>
    </div>
  </section>

  <script>
    const NOMBRE_NOVIA = "Loren";
    const TU_NOMBRE = "Gio";

    const MENSAJE = `
      On <b>November 19, 2023</b>, under that exact moon,<br/>
      our story officially began.<br/><br/>
      In a world full of noise, you became my favorite calm.<br/>
      In a sky full of stars, you became my moon.<br/><br/>
      Will you be my Valentine, <b>Loren</b>? üå∏üíò
    `;

    const MENSAJE_SI = `
      I choose you in every universe, in every lifetime.<br/><br/>
      I love you to the moon and back‚Ä¶ and back. üåôüíñ<br/><br/>
      Always yours,<br/>
      <b>${TU_NOMBRE}</b>
    `;

    document.getElementById("title").textContent = `${NOMBRE_NOVIA}‚Ä¶`;
    document.getElementById("message").innerHTML = MENSAJE;
    document.getElementById("modalText").innerHTML = MENSAJE_SI;

    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const btnArea = document.getElementById("btnArea");
    const overlay = document.getElementById("overlay");
    const closeBtn = document.getElementById("closeBtn");
    const card = document.getElementById("card");
    const modal = document.getElementById("modal");

    let yesScale = 1;
    function growYes(){
      yesScale = Math.min(yesScale + 0.06, 1.55);
      yesBtn.style.transform = `scale(${yesScale})`;
    }

    function moveNoButton(){
      const area = btnArea.getBoundingClientRect();
      const btn = noBtn.getBoundingClientRect();

      const padding = 6;
      const maxX = area.width - btn.width - padding;
      const maxY = 120;

      const x = Math.max(padding, Math.random() * maxX);
      const y = (Math.random() * maxY) - (maxY/2);

      noBtn.style.transform = `translate(${x - (area.width/2 - btn.width/2)}px, ${y}px)`;
      noBtn.style.boxShadow = "0 18px 28px rgba(0,0,0,.22)";
      growYes();
    }

    noBtn.addEventListener("mouseenter", () => { moveNoButton(); });
    noBtn.addEventListener("touchstart", (e) => { e.preventDefault(); moveNoButton(); }, {passive:false});
    noBtn.addEventListener("click", () => { moveNoButton(); });

    yesBtn.addEventListener("click", () => {
      overlay.style.display = "flex";
      document.querySelector(".moon-img").classList.add("moon-glow");
      document.getElementById("stamp").classList.add("show");

      const couple = document.querySelector(".couple-img");
      couple.style.boxShadow = "0 0 90px rgba(255,214,246,.7)";
      couple.style.filter = "contrast(1.06) brightness(1.06)";

      burstSparks(modal, 26);
      startHearts(28);
      pulse(card);
    });

    closeBtn.addEventListener("click", () => { overlay.style.display = "none"; });
    overlay.addEventListener("click", (e) => { if(e.target === overlay) overlay.style.display = "none"; });

    function startHearts(count=16){
      const hearts = ["üíó","üíñ","üíò","üíï","‚ù§Ô∏è","üåô","‚ú®","üåπ"];
      for(let i=0;i<count;i++){
        const el = document.createElement("div");
        el.className = "heart";
        el.textContent = hearts[Math.floor(Math.random()*hearts.length)];
        const x = Math.random()*100;
        const x2 = x + (Math.random()*20 - 10);
        const dur = 3 + Math.random()*2.5;
        const delay = Math.random()*0.6;

        el.style.setProperty("--x", `${x}vw`);
        el.style.setProperty("--x2", `${x2}vw`);
        el.style.animationDuration = `${dur}s`;
        el.style.animationDelay = `${delay}s`;
        document.body.appendChild(el);
        setTimeout(() => el.remove(), (dur+delay)*1000);
      }
    }

    function burstSparks(container, n=18){
      const rect = container.getBoundingClientRect();
      for(let i=0;i<n;i++){
        const s = document.createElement("div");
        s.className = "spark";
        const hue = Math.floor(Math.random()*360);
        s.style.background = `hsl(${hue} 90% 65%)`;
        const dx = (Math.random()*240 - 120) + "px";
        const dy = (Math.random()*200 - 100) + "px";
        s.style.setProperty("--dx", dx);
        s.style.setProperty("--dy", dy);
        s.style.left = (rect.width/2 + (Math.random()*80 - 40)) + "px";
        s.style.top  = (rect.height/2 + (Math.random()*40 - 20)) + "px";
        container.appendChild(s);
        setTimeout(()=> s.remove(), 900);
      }
    }

    function pulse(el){
      el.animate(
        [{ transform: "scale(1)" },{ transform: "scale(1.02)" },{ transform: "scale(1)" }],
        { duration: 520, easing: "ease-out" }
      );
    }

    startHearts(10);
  </script>
</body>
</html>
